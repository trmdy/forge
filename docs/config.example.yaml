# Forge Configuration File
# Place this file at ~/.config/forge/config.yaml

# Global settings
global:
  # Directory for Forge data (database, centralized logs)
  data_dir: ~/.local/share/forge

  # Directory for configuration files
  config_dir: ~/.config/forge

# Database settings
database:
  # SQLite database path (default: {data_dir}/forge.db)
  # path: ~/.local/share/forge/forge.db

  # Maximum database connections
  max_connections: 10

  # Timeout for locked database (milliseconds)
  busy_timeout_ms: 5000

# Logging settings
logging:
  # Minimum log level: debug, info, warn, error
  level: info

  # Output format: json, console
  format: console

  # Optional log file path
  # file: ~/.local/share/forge/forge.log

  # Include caller information in logs
  enable_caller: false

# Profiles configuration
# Each profile is a harness + auth home combination.
profiles:
  - name: pi-work
    harness: pi
    auth_home: ~/.pi/agent-work
    prompt_mode: env
    command_template: 'pi -p "$FORGE_PROMPT_CONTENT"'
    max_concurrency: 1

# Pools configuration
pools:
  - name: default
    strategy: round_robin
    profiles: [pi-work]
    is_default: true

# Default pool name
default_pool: default

# Loop defaults
loop_defaults:
  # Sleep between iterations
  interval: 30s
  # Optional default prompt path
  # prompt: PROMPT.md
  # Optional default base prompt message
  # prompt_msg: "Run tests and report failures."

# TUI settings
tui:
  # How often to refresh the display
  refresh_interval: 2s
